(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{117:function(e,t,r){},119:function(e,t,r){},120:function(e,t,r){},121:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r(27),n=r.n(c),s=(r(85),r(15)),o=(r(86),r(87),r(88),r(133)),i=r(126),j=r(135),d=r(130),l=r(18),u=r(8),b=r(9),p=r.n(b),O=r(12),h=r(13),x=r.n(h),m={USER_START:"USER_START",USER_SUCESS:"USER_SUCESS",USER_FAIL:"USER_FAIL",GET_USER_START:"GET_USER_START",GET_USER_SUCCESS:"GET_USER_SUCCESS",GET_USER_FAIL:"GET_USER_FAIL",LOGOUT:"LOGOUT",UPDATE_USER_START:"UPDATE_USER_START",UPDATE_USER_SUCESS:"UPDATE_USER_SUCESS",UPDATE_USER_FAIL:"UPDATE_USER_FAIL",LIST_USERS_START:"LIST_USERS_START",LIST_USERS_SUCESS:"LIST_USERS_SUCESS",LIST_USERS_FAIL:"LIST_USERS_FAIL",DELETE_USER_START:"DELETE_USER_START",DELETE_USER_SUCESS:"DELETE_USER_SUCESS",DELETE_USER_FAIL:"DELETE_USER_FAIL",ADMIN_GET_USER_START:"ADMIN_GET_USER_START",ADMIN_GET_USER_SUCESS:"ADMIN_GET_USER_SUCESS",ADMIN_GET_USER_FAIL:"ADMIN_GET_USER_FAIL",ADMIN_UPDATE_USER_START:"ADMIN_UPDATE_USER_START",ADMIN_UPDATE_USER_SUCESS:"ADMIN_UPDATE_USER_SUCESS",ADMIN_UPDATE_USER_FAIL:"ADMIN_UPDATE_USER_FAIL"},g=function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,a){var c,n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:m.GET_USER_START}),c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a().userLogin.currentUser.token)}},t.next=5,x.a.get("/api/users/".concat(e),c);case 5:n=t.sent,s=n.data,r({type:m.GET_USER_SUCCESS,payload:s}),r({type:m.USER_SUCESS,payload:s}),localStorage.setItem("user",JSON.stringify(s)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:m.GET_USER_FAIL,payload:t.t0.response&&t.t0.response.data?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},f=r(10),v=r(131),S=r(73),y=r(11),E=r(0),_=Object(y.o)((function(e){var t=e.history,r=Object(a.useState)(""),c=Object(f.a)(r,2),n=c[0],s=c[1];return Object(E.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),n?t.push("/search/".concat(n)):t.push("/")},inline:!0,children:[Object(E.jsx)(v.a.Control,{className:"mr-sm-2 ml-sm-5",type:"search",value:n,onChange:function(e){return s(e.target.value)}}),Object(E.jsx)(S.a,{type:"submit",className:"p-2",variant:"outline-success",children:"Search"})]})})),I=function(){var e=Object(u.c)((function(e){return e.userLogin})).currentUser,t=Object(u.b)();return Object(E.jsx)("nav",{children:Object(E.jsx)(o.a,{bg:"dark",variant:"dark",children:Object(E.jsxs)(i.a,{children:[Object(E.jsx)(o.a.Brand,{href:"/",children:"ProShop"}),Object(E.jsx)(_,{}),Object(E.jsxs)(j.a,{className:"ml-auto",children:[Object(E.jsxs)(j.a.Link,{href:"/cart",children:[" ",Object(E.jsx)("i",{className:"fa fa-shopping-cart"}),"Cart"]}),e?Object(E.jsxs)(d.a,{title:e.user.name,id:"username",children:[Object(E.jsx)(l.LinkContainer,{to:"/profile",children:Object(E.jsx)(d.a.Item,{children:"Profile"})}),Object(E.jsx)(d.a.Item,{onClick:function(){t(function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("currentUser"),localStorage.removeItem("user"),t({type:m.LOGOUT});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]}):Object(E.jsxs)(j.a.Link,{href:"/login",children:[Object(E.jsx)("i",{className:"fa fa-user"})," Login"]}),e&&e.user.isAdmin?Object(E.jsxs)(d.a,{title:"Manage",id:"manage",children:[Object(E.jsx)(l.LinkContainer,{to:"/admin/products",children:Object(E.jsx)(d.a.Item,{children:"products"})}),Object(E.jsx)(l.LinkContainer,{to:"/admin/users",children:Object(E.jsx)(d.a.Item,{children:"users"})}),Object(E.jsx)(l.LinkContainer,{to:"/admin/orders",children:Object(E.jsx)(d.a.Item,{children:"orders"})})]}):null]})]})})})},R=r(127),A=r(72),U=function(){return Object(E.jsx)("footer",{children:Object(E.jsx)(R.a,{children:Object(E.jsx)(A.a,{className:"text-center py-3",children:"Copyright \xa9 PreShop"})})})},T=r(136),C=function(e){var t=e.value,r=e.text,a=e.color;return Object(E.jsxs)("div",{className:"ratings",children:[Object(E.jsx)("span",{children:Object(E.jsx)("i",{style:{color:a},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(E.jsx)("span",{children:Object(E.jsx)("i",{style:{color:a},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(E.jsx)("span",{children:Object(E.jsx)("i",{style:{color:a},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(E.jsx)("span",{children:Object(E.jsx)("i",{style:{color:a},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(E.jsx)("span",{children:Object(E.jsx)("i",{style:{color:a},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(E.jsx)("span",{children:r})]})},L=function(e){var t=e.product;return Object(E.jsxs)(T.a,{className:"my-3 rounded p-3 ",children:[Object(E.jsx)("a",{href:"products/".concat(t._id),children:Object(E.jsx)(T.a.Img,{src:t.image,variant:"top"})}),Object(E.jsxs)(T.a.Body,{children:[Object(E.jsx)(T.a.Title,{as:"div",children:Object(E.jsx)("strong",{children:t.name})}),Object(E.jsx)(T.a.Text,{as:"div",children:Object(E.jsx)(C,{color:"rgb(31, 31, 31)",value:t.rating,text:"".concat(t.numReviews," reviews")})}),Object(E.jsxs)(T.a.Text,{as:"h3",children:["$",t.price]})]})]})},D=(r(117),"FETCH_PRODS_START"),k="FETCH_PRODS_SUCCESS",P="FETCH_PRODS_FAILURE",w="CREATE_PRODS_START",N="CREATE_PRODS_SUCCESS",F="CREATE_PRODS_FAILURE",G="RESET_PRODS",M="UPDATE_PRODS_START",B="UPDATE_PRODS_SUCCESS",$="UPDATE_PRODS_FAILURE",J="DELETE_PRODS_START",z="DELETE_PRODS_SUCCESS",q="FETCH_PRODS_FAILURE",V="REVIEW_PRODS_START",W="REVIEW_PRODS_SUCCESS",H="REVIEW_PRODS_FAILURE",Y="TOP_PRODS_START",Q="TOP_PRODS_SUCCESS",K="TOP_PRODS_FAILURE",X=function(){return{type:D}},Z=function(e){return{type:k,payload:e}},ee=function(e){return{type:P,payload:e}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var r=Object(O.a)(p.a.mark((function r(a){var c,n;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(X()),r.next=4,x.a.get("/api/products?name=".concat(e,"&page=").concat(t));case 4:c=r.sent,n=c.data,a(Z(n)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),a(ee(r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message));case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},re=r(128);var ae=function(){return Object(E.jsx)(re.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",display:"block",margin:"auto"}})},ce=r(134);function ne(e){var t=e.variant,r=e.children;return Object(E.jsx)(ce.a,{variant:t,children:r})}ne.defaultProps={variant:"info"};var se=ne,oe=r(31),ie=r(137),je=function(e){var t=e.pages,r=e.page,a=(e.history,e.keyword,e.isAdmin);return console.log(t),Object(E.jsx)(ie.a,{children:Object(oe.a)(Array(t).keys()).map((function(e){return Object(E.jsx)(l.LinkContainer,{to:a?"/admin/products/page/".concat(e+1):"/page/".concat(e+1),children:Object(E.jsx)(ie.a.Item,{active:e+1===r,children:e+1})})}))})},de=r(132),le=r(118);var ue=function(){var e=Object(u.c)((function(e){return e.topProductReducer})),t=e.products,r=e.loading,c=e.error,n=Object(u.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(O.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Y}),e.next=4,x.a.get("/api/products/top");case 4:r=e.sent,a=r.data,t({type:Q,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:K,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[n]),console.log(t),r?Object(E.jsx)(ae,{}):c?Object(E.jsx)(se,{variant:"danger",children:c}):Object(E.jsx)(de.a,{pause:"hover",className:"bg-dark",children:t.map((function(e){return Object(E.jsx)(de.a.Item,{children:Object(E.jsxs)(s.Link,{to:"/products/".concat(e._id),children:[Object(E.jsx)(le.a,{src:e.image,alt:e.name}),Object(E.jsxs)(de.a.Caption,{className:"carousel-caption",children:[" ",Object(E.jsx)("h2",{children:e.name})]})]})})}))})},be=r(75),pe=function(e){var t=e.content,r=e.title;return Object(E.jsxs)(be.a,{children:[Object(E.jsx)("title",{children:r}),Object(E.jsx)("meta",{name:"description",content:t})]})};pe.defaultProps={title:"Welcome to proshop",content:"We sell best Products"};var Oe=pe,he=function(e){var t=e.match,r=t.params.query||"",c=1*t.params.page||1,n=Object(u.b)(),s=Object(u.c)((function(e){return e.productRed})),o=s.loading,j=s.error,d=s.products,l=s.pages;return Object(a.useEffect)((function(){n(te(r,c))}),[n,r,c]),Object(E.jsx)("main",{children:Object(E.jsxs)(i.a,{children:[o?Object(E.jsx)(ae,{}):j?Object(E.jsx)(se,{variant:"danger",children:j}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Oe,{title:"Welcome to proshop"}),Object(E.jsx)(ue,{}),Object(E.jsx)("h1",{children:"Latest Products"}),Object(E.jsx)(R.a,{children:d.map((function(e){return Object(E.jsx)(A.a,{sm:12,md:6,lg:4,xl:3,children:Object(E.jsx)(L,{product:e})})}))})]}),Object(E.jsx)(je,{pages:l,page:c})]})})},xe=r(138),me=(r(119),"FETCH_PROD_DETAIL"),ge="FETCH_PROD_SUCCESS",fe="FETCH_PROD_FAILURE",ve=function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r){var a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:me}),t.next=4,x.a.get("/api/products/".concat(e));case 4:a=t.sent,c=a.data,r({type:ge,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:fe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Se=function(e){var t=e.match,r=e.history,c=Object(u.b)(),n=Object(u.c)((function(e){return e.productDetail})),o=n.product,j=n.loading,d=n.error,l=Object(u.c)((function(e){return e.reviewProductReducer})),b=l.error,h=(l.loading,l.success),m=Object(u.c)((function(e){return e.userLogin})).currentUser,g=Object(a.useState)(1),y=Object(f.a)(g,2),_=y[0],I=y[1],U=Object(a.useState)(1),L=Object(f.a)(U,2),D=L[0],k=L[1],P=Object(a.useState)(""),w=Object(f.a)(P,2),N=w[0],F=w[1];Object(a.useEffect)((function(){c(ve(t.params.id))}),[c,t.params.id,h]);return Object(E.jsxs)(i.a,{className:"",children:[Object(E.jsx)(s.Link,{to:"/",className:"btn btn-light my-3",children:"Go back"}),j?Object(E.jsx)(ae,{}):d?Object(E.jsx)(se,{variant:"danger",children:d}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{md:6,children:Object(E.jsx)(le.a,{src:o.image,alt:o.name,fluid:!0})}),Object(E.jsx)(A.a,{md:3,children:Object(E.jsxs)(xe.a,{variant:"flush",children:[Object(E.jsx)(xe.a.Item,{children:Object(E.jsx)("h3",{children:o.name})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsx)(C,{value:o.rating,text:" ".concat(o.numReviews," reviews")})}),Object(E.jsxs)(xe.a.Item,{children:["Price:$",o.price]}),Object(E.jsxs)(xe.a.Item,{children:["Description:\\n",o.description]})]})}),Object(E.jsx)(A.a,{md:3,children:Object(E.jsx)(T.a,{children:Object(E.jsxs)(xe.a,{variant:"flush",children:[Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Price:"}),Object(E.jsx)(A.a,{children:Object(E.jsxs)("strong",{children:["$",o.price]})})]})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Status:"}),Object(E.jsx)(A.a,{children:o.countInStock>0?"In Stock":"out of stock"})]})}),o.countInStock>0&&Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Qty"}),Object(E.jsx)(A.a,{children:Object(E.jsx)(v.a.Control,{as:"select",value:_,onChange:function(e){return I(e.target.value)},children:Object(oe.a)(Array(o.countInStock).keys()).map((function(e){return Object(E.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsx)(R.a,{children:Object(E.jsx)(S.a,{disabled:0===o.countInStock,className:"btn-block",type:"btn",onClick:function(){r.push("/cart/".concat(t.params.id,"?qty=").concat(_))},children:"Add To Cart"})})})]})})})]}),Object(E.jsx)(R.a,{children:Object(E.jsx)(A.a,{md:6,children:Object(E.jsxs)(xe.a,{variant:"flush",children:[Object(E.jsx)("h2",{children:"Reviews"}),0===o.reviews.length?Object(E.jsx)(se,{children:"This product has no reviews"}):o.reviews.map((function(e){var t=e.name,r=e.rating,a=e.comment,c=e.createdAt;return Object(E.jsxs)(xe.a.Item,{children:[Object(E.jsx)("strong",{children:t}),Object(E.jsx)(C,{value:r}),Object(E.jsx)("p",{children:c.substring(0,10)}),Object(E.jsx)("p",{children:a})]})})),Object(E.jsxs)(xe.a.Item,{children:[h&&Object(E.jsx)(se,{variant:"success",children:"Review added"}),b&&Object(E.jsx)(se,{variant:"danger",children:b}),Object(E.jsx)("h2",{children:"Write a Customer Review"}),m?Object(E.jsxs)(v.a,{onSubmit:function(e){var r,a;e.preventDefault(),c((r=t.params.id,a={rating:D,comment:N},function(){var e=Object(O.a)(p.a.mark((function e(t,c){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:V}),n={headers:{Authorization:"Bearer ".concat(c().userLogin.currentUser.token)}},e.next=5,x.a.post("/api/products/".concat(r,"/reviews"),a,n);case 5:t({type:W}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:H,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}())),k(1),F("")},children:[Object(E.jsxs)(v.a.Group,{children:[Object(E.jsx)(v.a.Label,{children:"Rating"}),Object(E.jsxs)(v.a.Control,{as:"select",value:D,onChange:function(e){return k(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"select..."}),Object(E.jsx)("option",{value:"1",children:"1"}),Object(E.jsx)("option",{value:"2",children:"2"}),Object(E.jsx)("option",{value:"3",children:"3"}),Object(E.jsx)("option",{value:"4",children:"4"}),Object(E.jsx)("option",{value:"5",children:"5"})]})]}),Object(E.jsxs)(v.a.Group,{children:[Object(E.jsx)(v.a.Label,{children:"Comment"}),Object(E.jsx)(v.a.Control,{as:"textarea",row:"3",value:N,onChange:function(e){return F(e.target.value)}})]}),Object(E.jsx)(S.a,{type:"submit",children:"Submit"})]}):Object(E.jsxs)(se,{children:["Please ",Object(E.jsx)("a",{href:"/login",children:"login"})," to write a review"]})]})]})})})]})]})},ye="ADD_TO_CART",Ee="SAVE_SHIPPING",_e="SAVE_PAYMENT",Ie="REMOVE_FROM_CART",Re=function(e,t){return function(){var r=Object(O.a)(p.a.mark((function r(a,c){var n,s;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.a.get("/api/products/".concat(e));case 2:n=r.sent,s=n.data,a({type:ye,payload:{product:e,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()};var Ae=function(e){var t=e.match,r=e.location,c=e.history,n=t.params.id,o=r.search?Number(r.search.split("=")[1]):1,j=Object(u.c)((function(e){return e.cart.cartItems})),d=Object(u.b)();Object(a.useEffect)((function(){n&&d(Re(n,o))}),[d,n,o]);var l=function(e){d(function(e){return function(t,r){t({type:Ie,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))}}(e))};return Object(E.jsx)(i.a,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsxs)(A.a,{md:8,children:[Object(E.jsx)("h1",{children:"Shopping Cart"}),0===j.length?Object(E.jsx)(se,{children:"Your cart is empty"}):Object(E.jsx)(xe.a,{variant:"flush",children:j.map((function(e){return Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{md:2,children:Object(E.jsx)(le.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(E.jsx)(A.a,{md:4,children:Object(E.jsx)(s.Link,{to:"/products/".concat(e.product),children:e.name})}),Object(E.jsxs)(A.a,{md:2,children:["$",e.price]}),Object(E.jsx)(A.a,{md:2,children:Object(E.jsx)(v.a.Control,{as:"select",value:e.qty,onChange:function(t){return d(Re(e.product,t.target.value))},children:Object(oe.a)(Array(e.countInStock).keys()).map((function(e){return Object(E.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(E.jsx)(A.a,{md:2,children:Object(E.jsx)(S.a,{type:"button",variant:"light",onClick:function(){l(e.product)},children:Object(E.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(E.jsx)(A.a,{md:4,children:Object(E.jsx)(T.a,{children:Object(E.jsxs)(xe.a,{variant:"flush",children:[Object(E.jsxs)(xe.a.Item,{children:[Object(E.jsxs)("h2",{children:["SubTotal(",j.reduce((function(e,t){return e+1*t.qty}),0),") items"]}),"$",j.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsx)(S.a,{type:"button",className:"btn-block",disabled:0===j.length,onClick:function(){c.push("/login?redirect=shipping")},children:"Proceed To Checkout"})})]})})})]})})};var Ue=function(e){var t=e.children;return Object(E.jsx)(i.a,{children:Object(E.jsx)(R.a,{className:"justify-content-md-center",children:Object(E.jsx)(A.a,{xs:12,md:6,children:t})})})};var Te=function(e){var t=e.history,r=e.location,c=Object(a.useState)(""),n=Object(f.a)(c,2),o=n[0],i=n[1],j=Object(a.useState)(""),d=Object(f.a)(j,2),l=d[0],b=d[1],h=r.search?r.search.split("=")[1]:"/",g=Object(u.b)(),y=Object(u.c)((function(e){return e.userLogin})),_=y.currentUser,I=y.loading,U=y.error;return Object(a.useEffect)((function(){_&&t.push(h)})),Object(E.jsxs)(Ue,{children:[Object(E.jsx)("h1",{children:"Sign In"}),U?Object(E.jsx)(se,{variant:"danger",children:U}):null,I?Object(E.jsx)(ae,{}):null,Object(E.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),g(function(e){var t=e.email,r=e.password;return function(){var e=Object(O.a)(p.a.mark((function e(a){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:m.USER_START}),e.next=4,x()({method:"POST",url:"/api/users/login",data:{email:t,password:r}});case 4:c=e.sent,n=c.data,console.log(n),a({type:m.USER_SUCESS,payload:n}),localStorage.setItem("currentUser",JSON.stringify(n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:m.USER_FAIL,payload:e.t0.response&&e.t0.response.data?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}({email:o,password:l}))},children:[Object(E.jsxs)(v.a.Group,{controlId:"email",children:[Object(E.jsx)(v.a.Label,{children:"Email Address"}),Object(E.jsx)(v.a.Control,{type:"email",placeholder:"Enter your email",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"password",children:[Object(E.jsx)(v.a.Label,{children:"Password"}),Object(E.jsx)(v.a.Control,{type:"password",placeholder:"Enter your password",value:l,onChange:function(e){return b(e.target.value)}})]}),Object(E.jsx)(S.a,{type:"submit",variant:"primary",children:"Sign In"}),Object(E.jsx)(R.a,{children:Object(E.jsxs)(A.a,{children:["New Customer? ",Object(E.jsx)(s.Link,{to:h?"/register?redirect=".concat(h):"/register",children:"Register"})]})})]})]})};var Ce=function(e){var t=e.history,r=e.location,c=Object(a.useState)(""),n=Object(f.a)(c,2),o=n[0],i=n[1],j=Object(a.useState)(""),d=Object(f.a)(j,2),l=d[0],b=d[1],h=Object(a.useState)(""),g=Object(f.a)(h,2),y=g[0],_=g[1],I=Object(a.useState)(""),U=Object(f.a)(I,2),T=U[0],C=U[1],L=Object(a.useState)(""),D=Object(f.a)(L,2),k=D[0],P=D[1],w=r.search?r.search.split("=")[1]:"/",N=Object(u.b)(),F=Object(u.c)((function(e){return e.userLogin})).currentUser;return Object(a.useEffect)((function(){F&&t.push(w)}),[t,w,F]),Object(E.jsxs)(Ue,{children:[Object(E.jsx)("h1",{children:"Sign Up"}),T?Object(E.jsx)(se,{variant:"danger",children:T}):null,Object(E.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),y!==k?C("Passwords should match"):N(function(e){var t=e.email,r=e.name,a=e.password;return function(){var e=Object(O.a)(p.a.mark((function e(c){var n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:m.USER_START}),e.next=4,x()({method:"POST",url:"/api/users/signup",data:{email:t,password:a,name:r}});case 4:n=e.sent,s=n.data,c({type:m.USER_SUCESS,payload:s}),localStorage.setItem("currentUser",JSON.stringify(s)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:m.USER_FAIL,payload:e.t0.response&&e.t0.response.data?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}({name:l,email:o,password:y}))},children:[Object(E.jsxs)(v.a.Group,{controlId:"name",children:[Object(E.jsx)(v.a.Label,{children:"Name"}),Object(E.jsx)(v.a.Control,{type:"name",placeholder:"Enter your name",value:l,onChange:function(e){return b(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"email",children:[Object(E.jsx)(v.a.Label,{children:"Email Address"}),Object(E.jsx)(v.a.Control,{type:"email",placeholder:"Enter your email",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"password",children:[Object(E.jsx)(v.a.Label,{children:"Password"}),Object(E.jsx)(v.a.Control,{type:"password",placeholder:"Enter your password",value:y,onChange:function(e){return _(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"passwordConfirm",children:[Object(E.jsx)(v.a.Label,{children:"Password Confirm"}),Object(E.jsx)(v.a.Control,{type:"password",placeholder:"Confirm your password ",onBlur:function(e){C(y!==k?"Passwords should match":null)},value:k,onChange:function(e){return P(e.target.value)}})]}),Object(E.jsx)(S.a,{type:"submit",variant:"primary",children:"Sign Up"}),Object(E.jsx)(R.a,{children:Object(E.jsxs)(A.a,{children:["Already have a Customer? ",Object(E.jsx)(s.Link,{to:w?"/login?redirect=".concat(w):"/login",children:"Login"})]})})]})]})};var Le=function(e){var t=e.history,r=e.location,c=Object(a.useState)(""),n=Object(f.a)(c,2),o=n[0],j=n[1],d=Object(a.useState)(""),l=Object(f.a)(d,2),b=l[0],h=l[1],y=Object(a.useState)(""),_=Object(f.a)(y,2),I=_[0],U=_[1],T=Object(a.useState)(null),C=Object(f.a)(T,2),L=C[0],D=C[1],k=Object(a.useState)(""),P=Object(f.a)(k,2),w=P[0],N=P[1],F=r.search?r.search.split("=")[1]:"/",G=Object(u.b)(),M=Object(u.c)((function(e){return e.userDetail})),B=M.user,$=M.error,J=M.loading,z=Object(u.c)((function(e){return e.userLogin})).currentUser;return Object(a.useEffect)((function(){z?(console.log(B),B?(h(B.user.name),j(B.user.email)):G(g("me"))):t.push(F)}),[G,B,t,z,F]),Object(E.jsx)(i.a,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsxs)(A.a,{md:3,children:[Object(E.jsx)("h2",{children:"My Profile"}),$?Object(E.jsx)(se,{variant:"danger",children:$}):null,L?Object(E.jsx)(se,{variant:"danger",children:L}):null,J?Object(E.jsx)(ae,{}):null,Object(E.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),I!==w&&D("Passwords should match"),G(function(e){var t=e.name,r=e.email,a=e.password;return function(){var e=Object(O.a)(p.a.mark((function e(c,n){var s,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:m.UPDATE_USER_START}),s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n().userLogin.currentUser.token)}},e.next=5,x.a.patch("/api/users/me",{name:t,email:r,password:a},s);case 5:o=e.sent,i=o.data,c({type:m.UPDATE_USER_SUCESS,payload:i}),localStorage.setItem("currentUser",JSON.stringify(i)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c({type:m.GET_USER_FAIL,payload:e.t0.response&&e.t0.response.data?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()}({name:b,email:o,password:I})),G(g("me"))},children:[Object(E.jsxs)(v.a.Group,{controlId:"name",children:[Object(E.jsx)(v.a.Label,{children:"Name"}),Object(E.jsx)(v.a.Control,{type:"name",placeholder:"Enter your name",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"email",children:[Object(E.jsx)(v.a.Label,{children:"Email Address"}),Object(E.jsx)(v.a.Control,{type:"email",placeholder:"Enter your email",value:o,onChange:function(e){return j(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"password",children:[Object(E.jsx)(v.a.Label,{children:"Password"}),Object(E.jsx)(v.a.Control,{type:"password",placeholder:"Enter your password",value:I,onChange:function(e){return U(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"passwordConfirm",children:[Object(E.jsx)(v.a.Label,{children:"Password Confirm"}),Object(E.jsx)(v.a.Control,{type:"password",placeholder:"Confirm your password ",value:w,onChange:function(e){return N(e.target.value)}})]}),Object(E.jsx)(S.a,{type:"submit",variant:"primary",children:"Update"}),Object(E.jsx)(R.a,{children:Object(E.jsxs)(A.a,{children:["Already have a Customer? ",Object(E.jsx)(s.Link,{to:F?"/login?redirect=".concat(F):"/login",children:"Login"})]})})]})]}),Object(E.jsx)(A.a,{md:9,children:Object(E.jsx)("h2",{children:"My orders"})})]})})};r(120);var De=function(e){var t=e.step1,r=e.step2,a=e.step3,c=e.step4;return Object(E.jsx)("div",{className:"steps-container",children:Object(E.jsxs)(j.a,{children:[Object(E.jsx)(j.a.Item,{children:t?Object(E.jsx)(l.LinkContainer,{to:"/login",children:Object(E.jsx)(j.a.Link,{children:"Sign In"})}):Object(E.jsx)(j.a.Link,{disabled:!0,children:"Sign In"})}),Object(E.jsx)(j.a.Item,{children:r?Object(E.jsx)(l.LinkContainer,{to:"/shipping",children:Object(E.jsx)(j.a.Link,{children:"Shipping"})}):Object(E.jsx)(j.a.Link,{disabled:!0,children:"Shipping"})}),Object(E.jsx)(j.a.Item,{children:a?Object(E.jsx)(l.LinkContainer,{to:"/payment",children:Object(E.jsx)(j.a.Link,{children:"Payment"})}):Object(E.jsx)(j.a.Link,{disabled:!0,children:"Payment"})}),Object(E.jsx)(j.a.Item,{children:c?Object(E.jsx)(l.LinkContainer,{to:"/placeorder",children:Object(E.jsx)(j.a.Link,{children:"Place Order"})}):Object(E.jsx)(j.a.Link,{disabled:!0,children:"Place Order"})})]})})};var ke=function(e){var t=e.history,r=(e.location,Object(u.c)((function(e){return e.cart.shippingAddress}))),c=Object(a.useState)(r.address),n=Object(f.a)(c,2),s=n[0],o=n[1],i=Object(a.useState)(r.city),j=Object(f.a)(i,2),d=j[0],l=j[1],b=Object(a.useState)(r.postalCode),p=Object(f.a)(b,2),O=p[0],h=p[1],x=Object(a.useState)(r.country),m=Object(f.a)(x,2),g=m[0],y=m[1],_=Object(u.b)();return Object(E.jsxs)(Ue,{children:[Object(E.jsx)(De,{step1:!0,step2:!0}),Object(E.jsx)("h1",{children:"Shipping"}),Object(E.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),_(function(e){return function(t,r){t({type:Ee,payload:e}),localStorage.setItem("shippingAddress",JSON.stringify(r().cart.shippingAddress))}}({address:s,city:d,postalCode:O,country:g})),t.push("/payment")},children:[Object(E.jsxs)(v.a.Group,{controlId:"address",children:[Object(E.jsx)(v.a.Label,{children:"Adress"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter your address",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"city",children:[Object(E.jsx)(v.a.Label,{children:"City"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Where do you live",value:d,onChange:function(e){return l(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"postalCode",children:[Object(E.jsx)(v.a.Label,{children:"Postal Code"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter your postal code",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"country",children:[Object(E.jsx)(v.a.Label,{children:"Country"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Where are you from",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(E.jsx)(S.a,{type:"submit",variant:"primary",children:"Continue"})]})]})};var Pe=function(e){var t=e.history,r=(e.location,Object(a.useState)("Paypal")),c=Object(f.a)(r,2),n=c[0],s=c[1],o=Object(u.b)();return Object(a.useEffect)((function(){})),Object(E.jsxs)(Ue,{children:[Object(E.jsx)(De,{step1:!0,step2:!0,step3:!0}),Object(E.jsx)("h1",{children:"Payment"}),Object(E.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),o(function(e){return function(t,r){t({type:_e,payload:e}),localStorage.setItem("paymentMethod",JSON.stringify(r().cart.paymentMethod))}}(n)),t.push("/placeorder")},children:[Object(E.jsxs)(v.a.Group,{controlId:"address",children:[Object(E.jsx)(v.a.Label,{children:"Select Method"}),Object(E.jsx)(A.a,{children:Object(E.jsx)(v.a.Check,{type:"radio",label:"Paypal or Credit Card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:function(e){return s(e.target.value)}})})]}),Object(E.jsx)(S.a,{type:"submit",variant:"primary",children:"Continue"})]})]})},we="CREATE_ORDER_START",Ne="CREATE_ORDER_SUCCESS",Fe="CREATE_ORDER_FAIL",Ge="DETAILS_ORDER_START",Me="DETAILS_ORDER_SUCCESS",Be="DETAILS_ORDER_FAIL",$e="GET_ORDERS_START",Je="GET_ORDERS_SUCCESS",ze="GET_ORDERS_FAIL",qe="PAY_ORDER_START",Ve="PAY_ORDER_SUCCESS",We="PAY_ORDER_FAIL",He="DELIVERED_ORDER_START",Ye="DELIVERED_ORDER_SUCCESS",Qe="DELIVERED_ORDER_FAIL",Ke="RESET_ORDER";var Xe=function(e){var t,r=e.history,c=(e.location,Object(u.c)((function(e){return e.cart}))),n=(1*c.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)).toFixed(2),o=(t=n>100?0:100,(Math.round(100*t)/100).toFixed(2)),j=(.15*n).toFixed(2),d=(1*n+1*o+1*j).toFixed(2),l=Object(u.c)((function(e){return e.createOrderReducer})),b=l.success,h=(l.loading,l.order),m=Object(u.b)();return Object(a.useEffect)((function(){b&&r.push("/order/".concat(h._id))}),[r,b]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{children:Object(E.jsx)(De,{step1:!0,step2:!0,step3:!0,step4:!0})}),Object(E.jsx)(i.a,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{md:8,children:Object(E.jsxs)(xe.a,{variant:"flush",children:[Object(E.jsxs)(xe.a.Item,{children:[Object(E.jsx)("h2",{children:"Shipping"}),Object(E.jsxs)("p",{children:[Object(E.jsx)("strong",{children:"Address:"}),c.shippingAddress.address," ",",",c.shippingAddress.city," "," ",",",c.shippingAddress.postalCode," ",",",c.shippingAddress.country,","]})]}),Object(E.jsxs)(xe.a.Item,{children:[Object(E.jsx)("h2",{children:"Payment Method"}),Object(E.jsxs)("p",{children:[Object(E.jsx)("strong",{children:"method: "}),c.paymentMethod]})]}),Object(E.jsxs)(xe.a.Item,{children:[Object(E.jsx)("h2",{children:"ORDER ITEMS"}),0===c.cartItems.length?Object(E.jsx)(se,{children:"Your cart is empty"}):Object(E.jsx)(xe.a,{variant:"flush",children:c.cartItems.map((function(e,t){return Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{md:2,children:Object(E.jsx)(le.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(E.jsx)(A.a,{children:Object(E.jsx)(s.Link,{to:"/products/".concat(e.product),children:e.name})}),Object(E.jsxs)(A.a,{md:4,children:[e.qty,"x$",e.price," = $",(e.qty*e.price).toFixed(2)]})]})})}))})]})]})}),Object(E.jsx)(A.a,{md:4,children:Object(E.jsx)(T.a,{children:Object(E.jsxs)(xe.a,{variant:"flush",children:[Object(E.jsx)(xe.a.Item,{children:Object(E.jsx)("h2",{children:"Order Summary"})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Items"}),Object(E.jsxs)(A.a,{children:["$",n]})]})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Shipping"}),Object(E.jsxs)(A.a,{children:["$",o]})]})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Tax"}),Object(E.jsxs)(A.a,{children:["$",j]})]})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Total"}),Object(E.jsxs)(A.a,{children:["$",d]})]})}),Object(E.jsx)(S.a,{type:"button",onClick:function(e){e.preventDefault(),m(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,a){var c,n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:we}),c={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(a().userLogin.currentUser.token)}},console.log(a().userLogin.currentUser.token),t.next=6,x.a.post("/api/orders",e,c);case 6:n=t.sent,s=n.data,r({type:Ne,payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Fe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:c.cartItems,shippingAddress:c.shippingAddress,paymentMethod:c.paymentMethod,shippingPrice:o,taxPrice:j,totalPrice:d}))},children:"Place Order"})]})})})]})})]})},Ze=r(78);var et=function(e){e.history,e.location;var t,r=e.match,c=(1*Object(u.c)((function(e){return e.cart})).cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)).toFixed(2),n=(t=c>100?0:100,(Math.round(100*t)/100).toFixed(2)),o=(.15*c).toFixed(2),j=(1*c+1*n+1*o).toFixed(2),d=Object(u.c)((function(e){return e.orderDetailsReducer})),l=d.order,b=d.loading,h=d.error,m=Object(u.c)((function(e){return e.orderDeliverReducer})).success,g=Object(u.c)((function(e){return e.userLogin})).currentUser,v=Object(u.c)((function(e){return e.orderPayReducer})),y=v.successPay,_=v.loading,I=Object(a.useState)(!1),U=Object(f.a)(I,2),C=U[0],L=U[1],D=r.params.id,k=Object(u.b)();return Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(p.a.mark((function e(){var t,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/config/paypal");case 2:t=e.sent,r=t.data,(a=document.createElement("script")).type="text/javascript",a.src="https://www.paypal.com/sdk/js?client-id=".concat(r),a.async=!0,a.onload=function(){console.log("loaded"),L(!0)},document.body.appendChild(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(y),!l||y||l._id!==D?(k({type:Ke}),k(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,a){var c,n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ge}),c={headers:{Authorization:"Bearer ".concat(a().userLogin.currentUser.token)}},t.next=5,x.a.get("/api/orders/".concat(e),c);case 5:n=t.sent,s=n.data,r({type:Me,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:Be,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(D))):l.isPaid||(window.paypal?L(!0):e())}),[k,D,l,r,y,m]),b?Object(E.jsx)(ae,{}):h?Object(E.jsx)(se,{variant:"danger",children:h}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{children:Object(E.jsx)(De,{step1:!0,step2:!0,step3:!0,step4:!0})}),Object(E.jsx)(i.a,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{md:8,children:Object(E.jsxs)(xe.a,{variant:"flush",children:[Object(E.jsxs)(xe.a.Item,{children:[Object(E.jsx)("h2",{children:"Shipping"}),l.isDelivered?Object(E.jsx)(se,{variant:"success",children:"Delivered"}):Object(E.jsx)(se,{variant:"danger",children:"Order not delivered"}),Object(E.jsxs)("p",{children:["name:",l.user.name]}),Object(E.jsxs)("p",{children:["mailto:",l.user.email]}),Object(E.jsxs)("p",{children:[Object(E.jsx)("strong",{children:"Address:"}),l.shippingAddress.address," ",",",l.shippingAddress.city," "," ",",",l.shippingAddress.postalCode," ",",",l.shippingAddress.country,","]})]}),Object(E.jsxs)(xe.a.Item,{children:[Object(E.jsx)("h2",{children:"Payment Method"}),l.isPaid?Object(E.jsx)(se,{variant:"success",children:"Paid"}):Object(E.jsx)(se,{variant:"danger",children:"Order not paid"}),Object(E.jsxs)("p",{children:[Object(E.jsx)("strong",{children:"method: "}),l.paymentMethod]})]}),Object(E.jsxs)(xe.a.Item,{children:[Object(E.jsx)("h2",{children:"ORDER ITEMS"}),0===l.orderItems.length?Object(E.jsx)(se,{children:"Your cart is empty"}):Object(E.jsx)(xe.a,{variant:"flush",children:l.orderItems.map((function(e,t){return Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{md:2,children:Object(E.jsx)(le.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(E.jsx)(A.a,{children:Object(E.jsx)(s.Link,{to:"/products/".concat(e.product),children:e.name})}),Object(E.jsxs)(A.a,{md:4,children:[e.qty,"x$",e.price," = $",(e.qty*e.price).toFixed(2)]})]})})}))})]})]})}),Object(E.jsx)(A.a,{md:4,children:Object(E.jsx)(T.a,{children:Object(E.jsxs)(xe.a,{variant:"flush",children:[Object(E.jsx)(xe.a.Item,{children:Object(E.jsx)("h2",{children:"Order Summary"})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Items"}),Object(E.jsxs)(A.a,{children:["$",c]})]})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Shipping"}),Object(E.jsxs)(A.a,{children:["$",n]})]})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Tax"}),Object(E.jsxs)(A.a,{children:["$",o]})]})}),Object(E.jsx)(xe.a.Item,{children:Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:"Total"}),Object(E.jsxs)(A.a,{children:["$",j]})]})}),g&&g.user.isAdmin&&l.isPaid&&!l.isDelivered&&Object(E.jsx)(S.a,{onClick:function(){k(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,a){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:He}),c={headers:{Authorization:"Bearer ".concat(a().userLogin.currentUser.token)}},console.log(c),t.next=6,x.a.put("/api/orders/".concat(e,"/deliver"),{},c);case 6:r({type:Ye}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Qe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(l._id))},children:"Mark as delivered"}),!l.isPaid&&Object(E.jsxs)(xe.a.Item,{children:[_&&Object(E.jsx)(ae,{}),C?Object(E.jsx)(Ze.PayPalButton,{amount:l.totalPrice,onSuccess:function(e){k(function(e,t){return function(){var r=Object(O.a)(p.a.mark((function r(a,c){var n,s,o;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:qe}),n={headers:{Authorization:"Bearer ".concat(c().userLogin.currentUser.token)}},r.next=5,x.a.put("/api/orders/".concat(e,"/pay"),t,n);case 5:s=r.sent,o=s.data,console.log(o),a({type:Ve}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:We,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(l._id,e))}}):Object(E.jsx)(ae,{})]})]})})})]})})]})},tt=r(129),rt=function(e){var t=e.history,r=Object(u.c)((function(e){return e.listUsers})),c=r.error,n=r.loading,s=r.users,o=Object(u.c)((function(e){return e.deleteUser})),j=o.error,d=(o.loading,o.success);console.log(d);var b=Object(u.c)((function(e){return e.userLogin})).currentUser,h=Object(u.b)();Object(a.useEffect)((function(){b&&b.user.isAdmin?h(function(){var e=Object(O.a)(p.a.mark((function e(t,r){var a,c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m.LIST_USERS_START}),a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r().userLogin.currentUser.token)}},e.next=5,x.a.get("/api/users",a);case 5:c=e.sent,n=c.data,t({type:m.LIST_USERS_SUCESS,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:m.LIST_USERS_FAIL,payload:e.t0.response&&e.t0.response.data?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/")}),[b,h,t,d]);var g=function(e){h(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,a){var c,n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:m.DELETE_USER_START}),c={headers:{Authorization:"Bearer ".concat(a().userLogin.currentUser.token)}},t.next=5,x.a.delete("/api/users/".concat(e),c);case 5:n=t.sent,s=n.data,r({type:m.DELETE_USER_SUCESS,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:m.DELETE_USER_FAIL,payload:t.t0.response&&t.t0.response.data?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(E.jsxs)(i.a,{children:[j?Object(E.jsx)(se,{children:j}):null,n?Object(E.jsx)(ae,{}):c?Object(E.jsx)(se,{children:c}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{children:"Users"}),Object(E.jsxs)(tt.a,{stripped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"ID"}),Object(E.jsx)("th",{children:"NAME"}),Object(E.jsx)("th",{children:"EMAIL"}),Object(E.jsx)("th",{children:"ADMIN"}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{children:s.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e._id}),Object(E.jsx)("td",{children:e.name}),Object(E.jsxs)("td",{children:[" ",Object(E.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})]}),Object(E.jsx)("td",{children:e.isAdmin?Object(E.jsx)("i",{className:"fa fa-check",style:{color:"green"}}):Object(E.jsx)("i",{className:"fa fa-times",style:{color:"red"}})}),Object(E.jsxs)("td",{children:[Object(E.jsx)(l.LinkContainer,{to:"users/".concat(e._id,"/edit"),children:Object(E.jsx)(S.a,{variant:"light",className:"btn-sm",children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(S.a,{onClick:function(t){t.preventDefault(),g(e._id)},variant:"danger",className:"btn-sm",children:Object(E.jsx)("i",{className:"fa fa-trash"})})]})]},e._id)}))})]})]})]})};var at=function(e){var t=e.history,r=e.match,c=Object(a.useState)(""),n=Object(f.a)(c,2),s=n[0],o=n[1],i=Object(a.useState)(""),j=Object(f.a)(i,2),d=j[0],l=j[1],b=Object(a.useState)(""),h=Object(f.a)(b,2),g=h[0],y=h[1],_=Object(u.b)(),I=Object(u.c)((function(e){return e.userLogin})).currentUser,R=Object(u.c)((function(e){return e.adminUserGetRedcuer})),A=R.user,U=R.loading,T=R.error;return console.log(I),Object(a.useEffect)((function(){var e;I&&I.user.isAdmin?A&&A._id===r.params.id?(l(A.name),o(A.email),y(A.isAdmin)):_((e=r.params.id,function(){var t=Object(O.a)(p.a.mark((function t(r,a){var c,n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:m.ADMIN_GET_USER_START}),c={headers:{Authorization:"Bearer ".concat(a().userLogin.currentUser.token)}},t.next=5,x.a.get("/api/users/".concat(e),c);case 5:n=t.sent,s=n.data,r({type:m.ADMIN_GET_USER_SUCESS,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:m.ADMIN_GET_USER_FAIL,payload:t.t0.response&&t.t0.response.data?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}())):t.push("/")}),[_,r,A,I.user,I,t]),Object(E.jsxs)(Ue,{children:[Object(E.jsx)("h1",{children:"Update User"}),T?Object(E.jsx)(se,{variant:"danger",children:T}):null,U?Object(E.jsx)(ae,{}):null,Object(E.jsxs)(v.a,{onSubmit:function(e){var t,a;e.preventDefault(),_((t=r.params.id,a={email:s,name:d,isAdmin:g},function(){var e=Object(O.a)(p.a.mark((function e(r,c){var n,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:m.ADMIN_UPDATE_USER_START}),n={headers:{"Content-Type":"Application/Json",Authorization:"Bearer ".concat(c().userLogin.currentUser.token)}},e.next=5,x.a.patch("/api/users/".concat(t),a,n);case 5:s=e.sent,o=s.data,r({type:m.ADMIN_UPDATE_USER_SUCESS,payload:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:m.ADMIN_UPDATE_USER_FAIL,payload:e.t0.response&&e.t0.response.data?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(E.jsxs)(v.a.Group,{controlId:"name",children:[Object(E.jsx)(v.a.Label,{children:"Name"}),Object(E.jsx)(v.a.Control,{type:"name",placeholder:"Enter your name",value:d,onChange:function(e){return l(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"email",children:[Object(E.jsx)(v.a.Label,{children:"Email Address"}),Object(E.jsx)(v.a.Control,{type:"email",placeholder:"Enter your email",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(E.jsx)(v.a.Group,{controlId:"admin",children:Object(E.jsx)(v.a.Check,{type:"checkbox",label:"Is admin",checked:g,onChange:function(e){return y(e.target.checked)}})}),Object(E.jsx)(S.a,{type:"submit",variant:"primary",children:"Update"})]})]})},ct=function(e){var t=e.history,r=e.match,c=Object(u.c)((function(e){return e.productRed})),n=c.error,s=c.products,o=c.loading,j=c.pages,d=c.page,b=Object(u.c)((function(e){return e.deleteProductReducer})),h=(b.error,b.success),m=(b.loading,Object(u.c)((function(e){return e.userLogin})).currentUser),g=Object(u.b)();Object(a.useEffect)((function(){g({type:G}),m&&m.user.isAdmin?g(te("",r.params.page)):t.push("/")}),[m,g,t,h,r]);var f=function(e){g(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,a){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:J}),c={headers:{Authorization:"Bearer ".concat(a().userLogin.currentUser.token)}},t.next=5,x.a.delete("/api/products/".concat(e),c);case 5:r({type:z}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r({type:q,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(E.jsxs)(i.a,{children:[o?Object(E.jsx)(ae,{}):n?Object(E.jsx)(se,{children:n}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(R.a,{children:[Object(E.jsx)(A.a,{children:Object(E.jsx)("h1",{children:"Products"})}),Object(E.jsx)(A.a,{className:"text-right",children:Object(E.jsx)(l.LinkContainer,{to:"/admin/products/add",children:Object(E.jsxs)(S.a,{className:"my-3",children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Add product"]})})})]}),h?Object(E.jsx)(se,{variant:"success",children:"Deleted successfully"}):null,Object(E.jsxs)(tt.a,{stripped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"ID"}),Object(E.jsx)("th",{children:"NAME"}),Object(E.jsx)("th",{children:"PRICE"}),Object(E.jsx)("th",{children:"CATEGORY"}),Object(E.jsx)("th",{children:"BRAND"}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{children:s.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e._id}),Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.price}),Object(E.jsx)("td",{children:e.category}),Object(E.jsx)("td",{children:e.brand}),Object(E.jsxs)("td",{children:[Object(E.jsx)(l.LinkContainer,{to:"products/".concat(e._id,"/edit"),children:Object(E.jsx)(S.a,{variant:"light",className:"btn-sm",children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(S.a,{onClick:function(t){f(e._id)},variant:"danger",className:"btn-sm",children:Object(E.jsx)("i",{className:"fa fa-trash"})})]})]},e._id)}))})]})]}),Object(E.jsx)(je,{pages:j,page:d,isAdmin:!0})]})};var nt=function(e){var t=e.history,r=e.match,c=Object(a.useState)(""),n=Object(f.a)(c,2),s=n[0],o=n[1],i=Object(a.useState)(""),j=Object(f.a)(i,2),d=j[0],l=j[1],b=Object(a.useState)(""),h=Object(f.a)(b,2),m=h[0],g=h[1],y=Object(a.useState)(""),_=Object(f.a)(y,2),I=_[0],R=_[1],A=Object(a.useState)(""),U=Object(f.a)(A,2),T=U[0],C=U[1],L=Object(a.useState)(!1),D=Object(f.a)(L,2),k=D[0],P=D[1],w=Object(a.useState)(""),N=Object(f.a)(w,2),F=N[0],G=N[1],J=Object(a.useState)(""),z=Object(f.a)(J,2),q=z[0],V=z[1],W=Object(u.b)(),H=Object(u.c)((function(e){return e.userLogin})).currentUser,Y=Object(u.c)((function(e){return e.productDetail})),Q=Y.product,K=Y.loading,X=Y.error,Z=Object(u.c)((function(e){return e.updateProductReducer})),ee=Z.success,te=(Z.loading,Z.error);console.log(Q),Object(a.useEffect)((function(){H&&H.user.isAdmin?Q&&Q._id===r.params.id?(l(Q.name),o(Q.price),C(Q.image),g(Q.category),R(Q.brand),G(Q.description),V(Q.countInStock)):W(ve(r.params.id)):t.push("/")}),[W,r,H,t,Q,ee]);var re=function(){var e=Object(O.a)(p.a.mark((function e(t){var r,a,c,n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.files[0],(a=new FormData).append("image",r),e.prev=4,P(!0),c={headers:{"Content-Type":"multipart/form-data"}},e.next=9,x.a.post("/api/upload",a,c);case 9:n=e.sent,s=n.data,C(s),P(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0),P(!1);case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(Ue,{children:[Object(E.jsx)("h1",{children:"Update Product"}),ee?Object(E.jsx)(se,{variant:"success",children:"Product updated successfully"}):null,te?Object(E.jsx)(se,{variant:"danger",children:te}):null,X?Object(E.jsx)(se,{variant:"danger",children:X}):null,K?Object(E.jsx)(ae,{}):null,Object(E.jsxs)(v.a,{onSubmit:function(e){var t,a;e.preventDefault(),W((t=r.params.id,a={name:d,image:T,price:s,countInStock:q,description:F,category:m,brand:I},function(){var e=Object(O.a)(p.a.mark((function e(r,c){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:M}),n={headers:{Authorization:"Bearer ".concat(c().userLogin.currentUser.token)}},e.next=5,x.a.patch("/api/products/".concat(t),a,n);case 5:r({type:B}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r({type:$,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}())),W(ve(r.params.id))},children:[Object(E.jsxs)(v.a.Group,{controlId:"name",children:[Object(E.jsx)(v.a.Label,{children:"Name"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the name",value:d,onChange:function(e){return l(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"price",children:[Object(E.jsx)(v.a.Label,{children:"Price"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the price",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"image",children:[Object(E.jsx)(v.a.Label,{children:"Image"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the image",value:T,onChange:function(e){return C(e.target.value)}}),Object(E.jsx)(v.a.File,{custom:!0,label:"Choose an Image",id:"image-upload",onChange:re}),k&&Object(E.jsx)(ae,{})]}),Object(E.jsxs)(v.a.Group,{controlId:"category",children:[Object(E.jsx)(v.a.Label,{children:"category"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the category",value:m,onChange:function(e){return g(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"brand",children:[Object(E.jsx)(v.a.Label,{children:"Brand"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the brand",value:I,onChange:function(e){return R(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"description",children:[Object(E.jsx)(v.a.Label,{children:"Description"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the description",value:F,onChange:function(e){return G(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"countInStock",children:[Object(E.jsx)(v.a.Label,{children:"Count In Stock"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the countInStock",value:q,onChange:function(e){return V(e.target.value)}})]}),Object(E.jsx)(S.a,{type:"text",variant:"primary",children:"Update"})]})]})};var st=function(e){var t=e.history,r=(e.match,Object(a.useState)("")),c=Object(f.a)(r,2),n=c[0],s=c[1],o=Object(a.useState)(""),i=Object(f.a)(o,2),j=i[0],d=i[1],l=Object(a.useState)(""),b=Object(f.a)(l,2),h=b[0],m=b[1],g=Object(a.useState)(""),y=Object(f.a)(g,2),_=y[0],I=y[1],R=Object(a.useState)(""),A=Object(f.a)(R,2),U=A[0],T=A[1],C=Object(a.useState)(""),L=Object(f.a)(C,2),D=L[0],k=L[1],P=Object(a.useState)(""),G=Object(f.a)(P,2),M=G[0],B=G[1],$=Object(u.b)(),J=Object(u.c)((function(e){return e.userLogin})).currentUser,z=Object(u.c)((function(e){return e.productDetail})),q=z.product,V=z.loading,W=z.error,H=Object(u.c)((function(e){return e.createProductReducer})),Y=H.success,Q=H.loading,K=H.error;return console.log(q),Object(a.useEffect)((function(){J&&J.user.isAdmin||t.push("/"),Y&&t.push("/admin/products")}),[$,J,t,Y]),Object(E.jsxs)(Ue,{children:[Object(E.jsx)("h1",{children:"Add Product"}),Q?Object(E.jsx)(se,{children:"Adding..."}):null,Y?Object(E.jsx)(se,{variant:"success",children:"Product added successfully"}):null,K?Object(E.jsx)(se,{variant:"danger",children:K}):null,W?Object(E.jsx)(se,{variant:"danger",children:W}):null,V?Object(E.jsx)(ae,{}):null,Object(E.jsxs)(v.a,{onSubmit:function(e){var t;e.preventDefault(),$((t={name:j,image:U,price:n,countInStock:M,description:D,category:h,brand:_},function(){var e=Object(O.a)(p.a.mark((function e(r,a){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:w}),c={headers:{Authorization:"Bearer ".concat(a().userLogin.currentUser.token)}},e.next=5,x.a.post("/api/products/",t,c);case 5:r({type:N}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r({type:F,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(E.jsxs)(v.a.Group,{controlId:"name",children:[Object(E.jsx)(v.a.Label,{children:"Name"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the name",value:j,onChange:function(e){return d(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"price",children:[Object(E.jsx)(v.a.Label,{children:"Price"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the price",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"image",children:[Object(E.jsx)(v.a.Label,{children:"Image"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the image",value:U,onChange:function(e){return T(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"category",children:[Object(E.jsx)(v.a.Label,{children:"category"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the category",value:h,onChange:function(e){return m(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"brand",children:[Object(E.jsx)(v.a.Label,{children:"Brand"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the brand",value:_,onChange:function(e){return I(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"description",children:[Object(E.jsx)(v.a.Label,{children:"Description"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the description",value:D,onChange:function(e){return k(e.target.value)}})]}),Object(E.jsxs)(v.a.Group,{controlId:"countInStock",children:[Object(E.jsx)(v.a.Label,{children:"Count In Stock"}),Object(E.jsx)(v.a.Control,{type:"text",placeholder:"Enter the countInStock",value:M,onChange:function(e){return B(e.target.value)}})]}),Object(E.jsxs)(S.a,{type:"text",variant:"primary",children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Add"]})]})]})},ot=function(e){var t=e.history,r=Object(u.c)((function(e){return e.getOrdersReducer})),c=r.error,n=r.orders,s=r.loading,o=Object(u.c)((function(e){return e.userLogin})).currentUser,j=Object(u.b)();Object(a.useEffect)((function(){o&&o.user.isAdmin?j(function(){var e=Object(O.a)(p.a.mark((function e(t,r){var a,c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:$e}),a={headers:{Authorization:"Bearer ".concat(r().userLogin.currentUser.token)}},e.next=5,x.a.get("/api/orders/",a);case 5:c=e.sent,n=c.data,t({type:Je,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:ze,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/")}),[o,j,t]);return Object(E.jsx)(i.a,{children:s?Object(E.jsx)(ae,{}):c?Object(E.jsx)(se,{children:c}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{children:"Orders"}),Object(E.jsxs)(tt.a,{stripped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"ID"}),Object(E.jsx)("th",{children:"USER"}),Object(E.jsx)("th",{children:"DATE"}),Object(E.jsx)("th",{children:"TOTAL"}),Object(E.jsx)("th",{children:"PAID"}),Object(E.jsx)("th",{children:"DELIVERED"}),Object(E.jsx)("th",{})]})}),Object(E.jsx)("tbody",{children:n.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e._id}),Object(E.jsx)("td",{children:e.user.name}),Object(E.jsx)("td",{children:e.createdAt}),Object(E.jsx)("td",{children:e.totalPrice}),Object(E.jsx)("td",{children:e.paidAt}),Object(E.jsx)("td",{children:e.isDelivered?Object(E.jsx)("i",{className:"fa fa-check",style:{color:"green"}}):Object(E.jsx)("i",{className:"fa fa-times",style:{color:"red"}})}),Object(E.jsx)("td",{children:Object(E.jsx)(l.LinkContainer,{to:"/order/".concat(e._id),children:Object(E.jsx)(S.a,{className:"btn-sm",children:"Detail"})})})]},e._id)}))})]})]})})};var it=function(){return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(I,{}),Object(E.jsxs)(y.g,{children:[Object(E.jsx)(y.d,{path:"/cart/:id?",exact:!0,component:Ae}),Object(E.jsx)(y.d,{path:"/order/:id",exact:!0,component:et}),Object(E.jsx)(y.d,{path:"/admin/orders",exact:!0,component:ot}),Object(E.jsx)(y.d,{path:"/register",exact:!0,component:Ce}),Object(E.jsx)(y.d,{path:"/payment",exact:!0,component:Pe}),Object(E.jsx)(y.d,{path:"/placeorder",exact:!0,component:Xe}),Object(E.jsx)(y.d,{path:"/shipping",exact:!0,component:ke}),Object(E.jsx)(y.d,{path:"/profile",exact:!0,component:Le}),Object(E.jsx)(y.d,{path:"/login",exact:!0,component:Te}),Object(E.jsx)(y.d,{path:"/products/:id",exact:!0,component:Se}),Object(E.jsx)(y.d,{path:"/admin/users",exact:!0,component:rt}),Object(E.jsx)(y.d,{path:"/admin/users/:id/edit",exact:!0,component:at}),Object(E.jsx)(y.d,{path:"/admin/products/:id/edit",exact:!0,component:nt}),Object(E.jsx)(y.d,{path:"/admin/products",exact:!0,component:ct}),Object(E.jsx)(y.d,{path:"/admin/products/page/:page",exact:!0,component:ct}),Object(E.jsx)(y.d,{path:"/admin/products/add",exact:!0,component:st}),Object(E.jsx)(y.d,{path:"/search/:query",exact:!0,component:he}),Object(E.jsx)(y.d,{path:"/page/:page",exact:!0,component:he}),Object(E.jsx)(y.d,{path:"/",exact:!0,component:he})]}),Object(E.jsx)(U,{})]})},jt=r(30),dt=r(79),lt=r(3),ut={products:[],loading:!1,error:void 0},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1});case Ne:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,success:!0,order:t.payload});case Fe:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},pt=Object(jt.combineReducers)({productRed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case k:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page});case P:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case ge:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,product:t.payload});case fe:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},createProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case N:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,success:!0});case F:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});case G:return{};default:return e}},deleteProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case z:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,success:!0});case q:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},updateProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case B:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,success:!0});case $:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:var r=e.cartItems.find((function(e){return e.product===t.payload.product}));return r?Object(lt.a)(Object(lt.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?t.payload:e}))}):Object(lt.a)(Object(lt.a)({},e),{},{cartItems:[].concat(Object(oe.a)(e.cartItems),[t.payload])});case Ie:return Object(lt.a)(Object(lt.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case Ee:return Object(lt.a)(Object(lt.a)({},e),{},{shippingAddress:t.payload});case _e:return Object(lt.a)(Object(lt.a)({},e),{},{paymentMethod:t.payload});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.USER_START:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case m.LOGOUT:return Object(lt.a)(Object(lt.a)({},e),{},{currentUser:null,error:null});case m.USER_SUCESS:return Object(lt.a)(Object(lt.a)({},e),{},{error:void 0,loading:!1,currentUser:t.payload});case m.USER_FAIL:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,currentUser:void 0,error:t.payload});default:return e}},userDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.GET_USER_START:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0,error:void 0});case m.GET_USER_SUCCESS:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:void 0,user:t.payload});case m.GET_USER_FAIL:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},createOrderReducer:bt,orderDetailsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case Me:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,order:t.payload});case Be:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},orderPayReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{successPay:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case Ve:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,successPay:!0});case We:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});case Ke:return{successPay:!1};default:return e}},listUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.LIST_USERS_START:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0,error:void 0});case m.LIST_USERS_SUCESS:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:void 0,users:t.payload.users});case m.LIST_USERS_FAIL:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},deleteUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.DELETE_USER_START:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0,error:void 0});case m.DELETE_USER_SUCESS:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:void 0,success:!0});case m.DELETE_USER_FAIL:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},adminUpdateUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.ADMIN_UPDATE_USER_START:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0,error:void 0});case m.ADMIN_UPDATE_USER_SUCESS:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:void 0,success:!0});case m.ADMIN_UPDATE_USER_FAIL:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},adminUserGetRedcuer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.ADMIN_GET_USER_START:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0,error:void 0});case m.ADMIN_GET_USER_SUCESS:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:void 0,user:t.payload.user});case m.ADMIN_GET_USER_FAIL:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},getOrdersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case Je:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,orders:t.payload});case ze:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},orderDeliverReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case Ye:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,success:!0});case Qe:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});case Ke:return{successPay:!1};default:return e}},reviewProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case W:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,success:!0});case H:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},topProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case Q:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,products:t.payload});case K:return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});default:return e}}}),Ot=[r(80).a],ht=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],xt=localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):null,mt=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,gt={cart:{cartItems:ht,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):{}},userLogin:{currentUser:xt},userDetail:{user:mt}},ft=Object(jt.createStore)(pt,gt,Object(dt.composeWithDevTools)(jt.applyMiddleware.apply(void 0,Ot))),vt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,139)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),a(e),c(e),n(e),s(e)}))};n.a.render(Object(E.jsx)(s.BrowserRouter,{basename:"/",children:Object(E.jsx)(u.a,{store:ft,children:Object(E.jsx)(it,{})})}),document.getElementById("root")),vt()},85:function(e,t,r){},86:function(e,t,r){},87:function(e,t,r){},88:function(e,t,r){}},[[121,1,2]]]);
//# sourceMappingURL=main.f579cec6.chunk.js.map